{"ast":null,"code":"import { ImagesActionTypes } from './images.types';\nimport axios from 'axios'; //Image fetching actions\n\nexport const fetchImagesRequest = () => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_REQUEST\n  };\n};\nexport const fetchImagesSuccess = images => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_SUCCESS,\n    payload: images\n  };\n};\nexport const fetchImagesFailure = error => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_FAILURE,\n    payload: error\n  };\n}; //Add images\n\nexport const addImage = img => {\n  return {\n    type: ImagesActionTypes.ADD_IMAGE,\n    payload: img\n  };\n}; //Remove images\n\nexport const removeImage = imgId => {\n  return {\n    type: ImagesActionTypes.REMOVE_IMAGE,\n    payload: imgId\n  };\n}; //Set current image\n\nexport const setCurrentImage = imgId => {\n  return {\n    type: ImagesActionTypes.SET_CURRENT_IMAGE,\n    payload: imgId\n  };\n}; //Thunk handled functions\n\nexport const fetchImages = () => {\n  return async function (dispatch) {\n    dispatch(fetchImagesRequest());\n    await axios.get('images').then(res => {\n      const images = res.data;\n      dispatch(fetchImagesSuccess(images));\n    }).catch(() => {\n      dispatch(fetchImagesFailure('Oops! Something went wrong.'));\n    });\n  };\n};\nexport const deleteImage = () => {\n  return async function () {\n    await axios.delete(`images/${this.props.currentImgId}`).then(() => {\n      this.props.removeImage(this.props.currentImgId);\n    }).then(() => {\n      this.props.toggleModal();\n    });\n  };\n};","map":{"version":3,"sources":["/home/anandhan/Desktop/unsplash/src/Redux/images/images.actions.js"],"names":["ImagesActionTypes","axios","fetchImagesRequest","type","FETCH_IMAGES_REQUEST","fetchImagesSuccess","images","FETCH_IMAGES_SUCCESS","payload","fetchImagesFailure","error","FETCH_IMAGES_FAILURE","addImage","img","ADD_IMAGE","removeImage","imgId","REMOVE_IMAGE","setCurrentImage","SET_CURRENT_IMAGE","fetchImages","dispatch","get","then","res","data","catch","deleteImage","delete","props","currentImgId","toggleModal"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,gBAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLC,IAAAA,IAAI,EAAEH,iBAAiB,CAACI;AADnB,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,kBAAkB,GAAIC,MAAD,IAAY;AAC5C,SAAO;AACLH,IAAAA,IAAI,EAAEH,iBAAiB,CAACO,oBADnB;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,kBAAkB,GAAIC,KAAD,IAAW;AAC3C,SAAO;AACLP,IAAAA,IAAI,EAAEH,iBAAiB,CAACW,oBADnB;AAELH,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAME,QAAQ,GAAIC,GAAD,IAAS;AAC/B,SAAO;AACLV,IAAAA,IAAI,EAAEH,iBAAiB,CAACc,SADnB;AAELN,IAAAA,OAAO,EAAEK;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAME,WAAW,GAAIC,KAAD,IAAW;AACpC,SAAO;AACLb,IAAAA,IAAI,EAAEH,iBAAiB,CAACiB,YADnB;AAELT,IAAAA,OAAO,EAAEQ;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAME,eAAe,GAAIF,KAAD,IAAW;AACxC,SAAO;AACLb,IAAAA,IAAI,EAAEH,iBAAiB,CAACmB,iBADnB;AAELX,IAAAA,OAAO,EAAEQ;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMI,WAAW,GAAG,MAAM;AAC/B,SAAO,gBAAgBC,QAAhB,EAA0B;AAC/BA,IAAAA,QAAQ,CAACnB,kBAAkB,EAAnB,CAAR;AACA,UAAMD,KAAK,CACRqB,GADG,CACC,QADD,EAEHC,IAFG,CAEGC,GAAD,IAAS;AACb,YAAMlB,MAAM,GAAGkB,GAAG,CAACC,IAAnB;AACAJ,MAAAA,QAAQ,CAAChB,kBAAkB,CAACC,MAAD,CAAnB,CAAR;AACD,KALG,EAMHoB,KANG,CAMG,MAAM;AACXL,MAAAA,QAAQ,CAACZ,kBAAkB,CAAC,6BAAD,CAAnB,CAAR;AACD,KARG,CAAN;AASD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMkB,WAAW,GAAG,MAAM;AAC/B,SAAO,kBAAkB;AACvB,UAAM1B,KAAK,CACR2B,MADG,CACK,UAAS,KAAKC,KAAL,CAAWC,YAAa,EADtC,EAEHP,IAFG,CAEE,MAAM;AACV,WAAKM,KAAL,CAAWd,WAAX,CAAuB,KAAKc,KAAL,CAAWC,YAAlC;AACD,KAJG,EAKHP,IALG,CAKE,MAAM;AACV,WAAKM,KAAL,CAAWE,WAAX;AACD,KAPG,CAAN;AAQD,GATD;AAUD,CAXM","sourcesContent":["import { ImagesActionTypes } from './images.types';\nimport axios from 'axios';\n\n//Image fetching actions\nexport const fetchImagesRequest = () => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_REQUEST,\n  };\n};\n\nexport const fetchImagesSuccess = (images) => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_SUCCESS,\n    payload: images,\n  };\n};\n\nexport const fetchImagesFailure = (error) => {\n  return {\n    type: ImagesActionTypes.FETCH_IMAGES_FAILURE,\n    payload: error,\n  };\n};\n\n//Add images\nexport const addImage = (img) => {\n  return {\n    type: ImagesActionTypes.ADD_IMAGE,\n    payload: img,\n  };\n};\n\n//Remove images\nexport const removeImage = (imgId) => {\n  return {\n    type: ImagesActionTypes.REMOVE_IMAGE,\n    payload: imgId,\n  };\n};\n\n//Set current image\nexport const setCurrentImage = (imgId) => {\n  return {\n    type: ImagesActionTypes.SET_CURRENT_IMAGE,\n    payload: imgId,\n  };\n};\n\n//Thunk handled functions\nexport const fetchImages = () => {\n  return async function (dispatch) {\n    dispatch(fetchImagesRequest());\n    await axios\n      .get('images')\n      .then((res) => {\n        const images = res.data;\n        dispatch(fetchImagesSuccess(images));\n      })\n      .catch(() => {\n        dispatch(fetchImagesFailure('Oops! Something went wrong.'));\n      });\n  };\n};\n\nexport const deleteImage = () => {\n  return async function () {\n    await axios\n      .delete(`images/${this.props.currentImgId}`)\n      .then(() => {\n        this.props.removeImage(this.props.currentImgId);\n      })\n      .then(() => {\n        this.props.toggleModal();\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}